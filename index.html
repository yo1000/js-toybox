<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="./index.css">
</head>
<body>
<div id="map-container" class="map-container"></div>
<p id="player" class="player"></p>
<script type="text/javascript" src="./Renderer.js"></script>
<script type="text/javascript" src="./Inputter.js"></script>
<script type="text/javascript" src="./Player.js"></script>
<script type="text/javascript" src="./Map.js"></script>
<script type="text/javascript">
(() => {
    class Main {
        static get FRAME_RATIO() { return 1000 / 24 }

        constructor() {
            const player = new Player(document.getElementById('player'))
            const map = new Map(document.getElementById('map-container'), `
                X______________X
                X______________X
                X______________X
                X_______XX_____X
                X______XX______X
                X_____XX_______X
                X________X_____X
                X___XXXXXX___A_X
                X___________JMLX
                X_XXXXXXXX_JMMMX
                X_________JMMMMX
                XXXXXXXXXXXXXXXX
            `)
            
            this.inputter = new Inputter(Main.FRAME_RATIO, [
                player
            ])
            this.renderer = new Renderer(Main.FRAME_RATIO, [
                map, player
            ])
        }
        
        run() {
            this.inputter.input()
            this.renderer.render()
        }
    }
    
    new Main().run()
})()
</script>
</body>
</html>
