<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="./styles/index.css">
</head>
<body>
<div id="map-container" class="map-container"></div>
<p id="player" class="player"></p>
<script type="text/javascript" src="./scripts/Renderer.js"></script>
<script type="text/javascript" src="./scripts/Inputter.js"></script>
<script type="text/javascript" src="./scripts/Player.js"></script>
<script type="text/javascript" src="./scripts/Map.js"></script>
<script type="text/javascript">
(() => {
    class Main {
        static get FRAME_RATIO() { return 1000 / 24 }

        constructor() {
            const player = new Player(document.getElementById('player'))
            const map = new Map(document.getElementById('map-container'), `
                X______________X
                X______________X
                X___________X__X
                X_______X_X_X__X
                X______X_______X
                X_____X________X
                X____X_________X
                X___X__________X
                X____________JLX
                X_X_X_X_X_X_JMMX
                X__________JMXMX
                XXXXXXXXXXXXXXXX
            `)
            
            this.inputter = new Inputter(Main.FRAME_RATIO, [
                player
            ])
            this.renderer = new Renderer(Main.FRAME_RATIO, [
                map, player
            ])
        }
        
        run() {
            this.inputter.input()
            this.renderer.render()
        }
    }
    
    new Main().run()
})()
</script>
</body>
</html>
